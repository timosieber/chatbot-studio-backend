# ==============================================
# SERVER CONFIGURATION
# ==============================================
NODE_ENV=production
PORT=4000

# ==============================================
# DATABASE
# ==============================================
# Local Development: file:./dev.db
# Railway Production: Wird automatisch gesetzt wenn PostgreSQL-Plugin hinzugefügt wird
DATABASE_URL="postgresql://user:password@host:5432/dbname"

# ==============================================
# SECURITY & AUTHENTICATION
# ==============================================
# WICHTIG: In Production einen starken, zufälligen Secret verwenden (min. 32 Zeichen)
# Generiere mit: openssl rand -base64 32
JWT_SECRET="CHANGE-ME-TO-RANDOM-SECRET-MIN-32-CHARS"

# Session-Lebensdauer für Chat-Widget (in Minuten)
SESSION_TTL_MINUTES=60

# API Rate-Limiting (Requests pro Minute)
RATE_LIMIT_PER_MINUTE=60

# Debug-Header erlauben (NUR für Development! In Production: false)
ALLOW_DEBUG_HEADERS=false

# ==============================================
# CORS CONFIGURATION
# ==============================================
# Kommagetrennte Liste erlaubter Origins
# Beispiel: https://meine-app.railway.app,https://www.meine-domain.com
CORS_ALLOWED_ORIGINS="https://your-frontend-url.railway.app"

# ==============================================
# APPWRITE AUTHENTICATION
# ==============================================
# Appwrite Cloud: https://cloud.appwrite.io/v1
# Self-Hosted: https://your-appwrite-instance.com/v1
APPWRITE_ENDPOINT="https://fra.cloud.appwrite.io/v1"
APPWRITE_PROJECT_ID="your-project-id"
APPWRITE_API_KEY="your-api-key"
APPWRITE_SELF_SIGNED=false

# ==============================================
# OPENAI / LLM CONFIGURATION
# ==============================================
# OpenAI API Key (holen von: https://platform.openai.com/api-keys)
OPENAI_API_KEY=""

# LLM-Modell für Chat-Antworten
OPENAI_COMPLETIONS_MODEL="gpt-4o-mini"

# Embedding-Modell für Vektor-Suche
OPENAI_EMBEDDINGS_MODEL="text-embedding-3-small"

# ==============================================
# VECTOR DATABASE
# ==============================================
# Optionen: "memory" (Development) oder "pinecone" (Production)
VECTOR_DB_PROVIDER="pinecone"

# Pinecone Configuration (nur wenn VECTOR_DB_PROVIDER=pinecone)
# Dashboard: https://app.pinecone.io/
PINECONE_API_KEY=""
PINECONE_INDEX="idpa"

# ==============================================
# WEB SCRAPING CONFIGURATION
# ==============================================
# Pfad zum lokalen IDPA-Scraper (für lokale Entwicklung)
SCRAPER_DIR="../IDPA-Scraper"

# Perplexity API für erweiterte PDF-Extraktion (optional)
PERPLEXITY_API_KEY=""

# Apify Cloud-Hosted Scraper (Alternative zu lokalem Scraper)
# Actor-ID: timo.sieber~idpa-scraper
SCRAPER_APIFY_ACTOR_ID="timo.sieber~idpa-scraper"
SCRAPER_APIFY_API_TOKEN=""
SCRAPER_APIFY_BASE_URL="https://api.apify.com/v2"
SCRAPER_APIFY_RUN_TIMEOUT_SECS=3600
SCRAPER_APIFY_RUN_MEMORY_MBYTES=2048

# ==========================================================
# FILL THESE WITH YOUR REAL SECRETS (DON'T COMMIT)
# ==========================================================
# OPENAI_API_KEY="sk-..."
# PINECONE_API_KEY="pcsk_..."
# PERPLEXITY_API_KEY="pplx-..."
# SCRAPER_APIFY_API_TOKEN="apify_api_..."
